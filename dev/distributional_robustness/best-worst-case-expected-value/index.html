<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Best Worst-Case Expected Value Â· RobustDecisionProgramming.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">RobustDecisionProgramming.jl</span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Distributional Robustness</span><ul><li class="is-active"><a class="tocitem" href>Best Worst-Case Expected Value</a><ul class="internal"><li><a class="tocitem" href="#Probability-Distribution"><span>Probability Distribution</span></a></li><li><a class="tocitem" href="#maximin-expected-value"><span>Maximin Expected Value</span></a></li><li><a class="tocitem" href="#Uncertainty-Set"><span>Uncertainty Set</span></a></li><li><a class="tocitem" href="#Ambiguity-Set"><span>Ambiguity Set</span></a></li><li><a class="tocitem" href="#Discretization"><span>Discretization</span></a></li><li><a class="tocitem" href="#Proofs"><span>Proofs</span></a></li></ul></li><li><a class="tocitem" href="../polyhedral-ambiguity-set/">Polyhedral Ambiguity Set</a></li><li><a class="tocitem" href="../distributionally-robust-decision-model/">Distributionally Robust Decision Model</a></li></ul></li><li><a class="tocitem" href="../../api/">API Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Distributional Robustness</a></li><li class="is-active"><a href>Best Worst-Case Expected Value</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Best Worst-Case Expected Value</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/gamma-opt/RobustDecisionProgramming.jl/blob/master/docs/src/distributional_robustness/best-worst-case-expected-value.md" title="Edit on GitHub"><span class="docs-icon fab">ï‚›</span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="best-worst-case-expected-value"><a class="docs-heading-anchor" href="#best-worst-case-expected-value">Best Worst-Case Expected Value</a><a id="best-worst-case-expected-value-1"></a><a class="docs-heading-anchor-permalink" href="#best-worst-case-expected-value" title="Permalink"></a></h1><h2 id="Probability-Distribution"><a class="docs-heading-anchor" href="#Probability-Distribution">Probability Distribution</a><a id="Probability-Distribution-1"></a><a class="docs-heading-anchor-permalink" href="#Probability-Distribution" title="Permalink"></a></h2><p>We denote a finite set of <strong>states</strong> for probabilities and utilities as</p><p class="math-container">\[I=\{1,2,...,k\},\quad kâˆˆâ„•.\]</p><p>We define a vector of discrete <strong>probabilities</strong> associated with the states as</p><p class="math-container">\[ğ©=(p_1,p_2,...,p_k),\]</p><p>such that all elements are greater or equal to zero <span>$ğ©â‰¥0$</span> and the sum of all elements is one <span>$ğ©â‹…ğŸ(k)=1$</span> where <span>$ğŸ(k)=(1)^k$</span> is a vector of <span>$k$</span> ones and <span>$â‹…$</span> is the dot product. We also define <strong>utilities</strong> associated with the states as a vector of real numbers</p><p class="math-container">\[ğ®=(u_1,u_2,...,u_k)âˆˆâ„^k.\]</p><p>Together, a vector of probabilities and utilities define a <strong>probability distribution</strong>.</p><h2 id="maximin-expected-value"><a class="docs-heading-anchor" href="#maximin-expected-value">Maximin Expected Value</a><a id="maximin-expected-value-1"></a><a class="docs-heading-anchor-permalink" href="#maximin-expected-value" title="Permalink"></a></h2><p>We can define the <strong>expected value</strong> as the dot product of probabilities and utilities</p><p class="math-container">\[ğ”¼(ğ©,ğ®)=ğ©â‹…ğ®.\]</p><p>We define an <strong>uncertainty set</strong> as a finite set of probability vectors <span>$ğ.$</span> In decision programming, a chance node has multiple states and each state is associated with a probability distribution. Hence, in robust decision programming, each probability vector is associated with an uncertainty set. We need to account for all combinations of the uncertainty sets by formulating the maximin expected value to over a product of the uncertainty sets.</p><p>We denote multiple uncertainty sets as <span>$ğ_1,...,ğ_m$</span> with indices <span>$L=\{1,...,m\}$</span> where <span>$mâˆˆâ„•.$</span> Then, a <strong>product uncertainty set</strong> is</p><p class="math-container">\[ğ_L^{Ã—}=âˆ_{lâˆˆL} ğ_{l}.\]</p><p>Given multiple utility vectors <span>$ğ®_1,...,ğ®_m$</span>, we define the problem as maximizing the minimum expected value over the product uncertainty set over decision variables <span>$Z$</span> similar to <a href="https://en.wikipedia.org/wiki/Wald%27s_maximin_model">Wald&#39;s maximin model</a></p><p class="math-container">\[\max_{zâˆˆZ}\, \min_{(ğª_1,...,ğª_m)âˆˆğ_L^{Ã—}} âˆ‘_{lâˆˆL} ğ”¼(ğª_l, ğ®_l(z)).\]</p><p>We can simplify the formulation to a more computationally tractable form</p><p class="math-container">\[\max_{zâˆˆZ}\, âˆ‘_{lâˆˆL} \min_{ğªâˆˆğ_l} ğ”¼(ğª, ğ®_l(z)).\]</p><p>Now, we can reformulate the maximin over product uncertainty set in mathematical programming as</p><p class="math-container">\[\max_{zâˆˆZ}\, âˆ‘_{lâˆˆL} x_l\]</p><p class="math-container">\[x_l â‰¤ ğ”¼(ğª, ğ®_l(z)),\quad âˆ€ğªâˆˆğ_{l},\, lâˆˆL\]</p><p>Regarding to the computational complexity, the number of constraints in the above formulation is proportional to the total size of the uncertainty sets</p><p class="math-container">\[âˆ‘_{lâˆˆL} |ğ_l|.\]</p><h2 id="Uncertainty-Set"><a class="docs-heading-anchor" href="#Uncertainty-Set">Uncertainty Set</a><a id="Uncertainty-Set-1"></a><a class="docs-heading-anchor-permalink" href="#Uncertainty-Set" title="Permalink"></a></h2><p>We can formulate an uncertainty set <span>$ğ_{ğ©}$</span> around a <strong>pivot probability</strong> <span>$ğ©$</span> by formulating an ambiguity set <span>$ğƒ_{ğ©}$</span> of <strong>deviations</strong> <span>$ğ$</span> such that each element of the uncertainty set satisfies</p><p class="math-container">\[ğª=ğ©+ğ.\]</p><p>We can express the uncertainty set in terms of the ambiguity set as</p><p class="math-container">\[ğ_ğ©=\{ğ©+ğâˆ£ğâˆˆğƒ_ğ©\}.\]</p><p>We focus on forming the ambiguity set.</p><h2 id="Ambiguity-Set"><a class="docs-heading-anchor" href="#Ambiguity-Set">Ambiguity Set</a><a id="Ambiguity-Set-1"></a><a class="docs-heading-anchor-permalink" href="#Ambiguity-Set" title="Permalink"></a></h2><p>We define the <strong>lower bounds</strong> <span>$ğ^{-}â‰¤0$</span> and <strong>upper bounds</strong> <span>$ğ^{+}â‰¥0$</span> for deviations <span>$ğ$</span> as parameters such that</p><p class="math-container">\[ğ^{-}â‰¤ğâ‰¤ğ^{+}.\]</p><p>As a consequence from the properties of discrete probabilities, we obtain</p><p class="math-container">\[ğª^{+}=ğ©+ğ^{+}â‰¤1 â‡’\quad ğ^{+}â‰¤1-ğ©,\]</p><p class="math-container">\[ğª^{-}=ğ©+ğ^{-}â‰¥0 â‡’\quad ğ^{-}â‰¥-ğ©.\]</p><p>We also obtain the <strong>conservation of probability mass</strong> as</p><p class="math-container">\[ğâ‹…ğŸ(k)=(ğ©-ğª)â‹…ğŸ(k)=ğ©â‹…ğŸ(k)-ğªâ‹…ğŸ(k)=0.\]</p><p>Finally, we can limit the Wasserstein distance of uncertainty set elements from the pivot by constraining the magnitude of the deviation to <span>$lâˆˆâ„•$</span> norm less or equal to an <strong>uncertainty radius</strong> <span>$0â‰¤Ïµâ‰¤1$</span> as</p><p class="math-container">\[\|ğ\|_lâ‰¤2Ïµ.\]</p><p>By setting <span>$Ïµ=1$</span> we can make the magnitude constraint inactive.</p><hr/><p>Given parameters lower bound <span>$-ğ©â‰¤ğ^{-}â‰¤0$</span>, upper bound <span>$0â‰¤ğ^{+}â‰¤1-ğ©$</span>, and uncertainty radius <span>$0â‰¤Ïµâ‰¤1,$</span> the <strong>continuous ambiguity set</strong> is the set of all deviations that satisfy the defined constraints</p><p class="math-container">\[\bar{ğƒ}_ğ©=\{ğâˆˆ[ğ^{-},ğ^{+}]âˆ£ ğâ‹…ğŸ(k)=0,\, \|ğ\|_lâ‰¤2Ïµ\}.\]</p><p>The ambiguity set is convex, which makes optimization possible. Smaller values of <span>$l$</span> make the ambiguity set more pessimistic and larger values more optimistic. We obtain the <strong>polyhedral ambiguity set</strong> by setting <span>$l=1.$</span></p><h2 id="Discretization"><a class="docs-heading-anchor" href="#Discretization">Discretization</a><a id="Discretization-1"></a><a class="docs-heading-anchor-permalink" href="#Discretization" title="Permalink"></a></h2><p>Since we cannot use a continuous set in the mathematical programming formulation, we have to discretize it. We begin by denoting the continous uncertainty set as</p><p class="math-container">\[\bar{ğ}_ğ©=\{ğ©+ğâˆ£ğâˆˆ\bar{ğƒ}_ğ©\}.\]</p><p>We can define the minimum expected value over the continuous uncertainty set as</p><p class="math-container">\[\min_{ğªâˆˆ\bar{ğ}_ğ©} ğ”¼(ğª, ğ®) = \min_{ğâˆˆ\bar{ğƒ}_ğ©} ğ”¼(ğ©+ğ, ğ®) = ğ”¼(ğ©,ğ®) + \min_{ğâˆˆ\bar{ğƒ}_ğ©} ğ”¼(ğ,ğ®).\]</p><p>Then, the <strong>ambiguity set</strong> <span>$ğƒ_ğ©$</span> is a finite subset of <span>$\bar{ğƒ}_ğ©$</span> such that it contains all deviations <span>$ğ$</span> for all utility vectors <span>$ğ®âˆˆâ„^{k}$</span> that can minimize the expected value. We can solve the discretization for <a href="../polyhedral-ambiguity-set/#polyhedral-ambiguity-set">polyhedral ambiguity set</a> using the <strong>cross-assignment</strong> algorithm.</p><h2 id="Proofs"><a class="docs-heading-anchor" href="#Proofs">Proofs</a><a id="Proofs-1"></a><a class="docs-heading-anchor-permalink" href="#Proofs" title="Permalink"></a></h2><h3 id="Convexity-of-Ambiguity-Set"><a class="docs-heading-anchor" href="#Convexity-of-Ambiguity-Set">Convexity of Ambiguity Set</a><a id="Convexity-of-Ambiguity-Set-1"></a><a class="docs-heading-anchor-permalink" href="#Convexity-of-Ambiguity-Set" title="Permalink"></a></h3><p>Let <span>$ğ_1,ğ_2âˆˆğƒ_ğ©,$</span> we must show that <span>$ğâˆˆğƒ_ğ©$</span> where <span>$ğ=(1-Î»)ğ_1+Î»ğ_2$</span> with <span>$Î»âˆˆ[0,1].$</span></p><ol><li>Minimum: <span>$ğ=(1-Î»)ğ_1+Î»ğ_2â‰¥(1-Î»)ğ^{-}+Î»ğ^{-}=ğ^{-}.$</span></li><li>Maximum: <span>$ğ=(1-Î»)ğ_1+Î»ğ_2â‰¤(1-Î»)ğ^{+}+Î»ğ^{+}=ğ^{+}.$</span></li><li>Conservation of probability mass: <span>$ğâ‹…ğŸ(k)=(1-Î»)ğ_1â‹…ğŸ(k)+Î»ğ_2â‹…ğŸ(k)=0$</span></li><li>Limit for magnitude (Triangle inequality): <span>$\|ğ\|_lâ‰¤(1-Î»)\|ğ_1\|_l+Î»\|ğ_2\|_lâ‰¤2Ïµ$</span></li></ol></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../">Â« Home</a><a class="docs-footer-nextpage" href="../polyhedral-ambiguity-set/">Polyhedral Ambiguity Set Â»</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Friday 7 May 2021 06:07">Friday 7 May 2021</span>. Using Julia version 1.6.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
